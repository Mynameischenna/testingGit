import React, { useEffect, useState } from 'react';
import './AddPlan.css';
import myimage from'./logo-new.png';
import {Prism as HI} from 'react-syntax-highlighter'

import { useNavigate } from 'react-router-dom';

import './Testing.css';
import {parseString} from 'xml2js'
import  Plans from './Plans.json'
import PlanInfo from './PlanInfo.json'
import xml from './test_xml.xml'
import {  FaFolder } from "react-icons/fa";
import { solarizedLight } from 'react-syntax-highlighter/dist/esm/styles/hljs';
import axios from 'axios';
function Testing()
{
    const [plans,setPlans]=useState(Plans);
    const [newPlan,setNewPlan]=useState();
    const [currentPlan,setCurrentPlan]=useState();
    const [planInfo,setPLanInfo] = useState(PlanInfo);
    const [currentPLanInfo,setCurrentPlanInfo]=useState();
    const [readxml,setReadxml]=useState(null);
    // console.log("xml is "+readxml);
    const navigate=useNavigate()
    async function fetchXml(){
        const response = await fetch(xml);
        const xmldata = await response.text()
        return xmldata;
    }
    // function getplandata()
    // {
    //     const result= axios.get("http://localhost:8081/getplans")
    //     setNewPlan(result.data);
    // }
    useEffect(()=>{
        
            axios.get("http://localhost:8081/getplans")
            .then(res=>setNewPlan(res.data))
            .catch(err =>console.log(err))
            
            
          
        // async function fetchdata()
        // {
        //     const xmldata=await fetchXml();
        //     parseString(xmldata,(err,result)=>{
        //         if(!err)
        //         {
        //             setReadxml(result)
        //             console.log("result is "+result);
        //             console.log(readxml);
        //         }else{
        //             console.error('error parsing ',err);
        //         }
        //     })
        // }
        // getplandata();
    // fetchdata();
    
    console.log("plan is"+newPlan);
    },[])

